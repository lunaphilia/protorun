# 2. 字句構造

## 2.1 字句構造の設計原則

Protorun言語の字句構造は、以下の原則に基づいて設計されています：

1. **読みやすさ**: 構文は明確で読みやすく、コードの意図を明確に伝えるべきです
2. **一貫性**: 類似の概念は類似の構文で表現し、学習と理解を容易にします
3. **簡潔さ**: 冗長性を最小限に抑え、簡潔な表現を可能にします
4. **明示性**: 重要な概念や操作は明示的に表現し、隠れた動作を避けます

## 2.2 キーワード

```
acquire   bind      effect    else      enum      export    fn
for       handle    handler   if        impl      let       match
mut       noresume  multiresume own       release   resource  resume
return    scoped    trait     type      var       with
```

Protorun言語のキーワードは、以下の原則に基づいて選択されています：

1. **最小性**: 必要最小限のキーワードを使用し、言語の学習を容易にします
2. **明確性**: 各キーワードは明確な目的を持ち、その役割が理解しやすいものを選びます
3. **一貫性**: 関連する概念には関連するキーワードを使用し、言語の一貫性を保ちます

## 2.3 演算子

```
+  -  *  /  %  =  ==  !=  <  >  <=  >=  &&  ||  !  &  |  ^  ~  <<  >>
->  =>  ::  .  ,  ;  :  ..  ...  +=  -=  *=  /=  %=  &=  |=  ^=
|>  |>* >>>  >>>*
```

Protorun言語の演算子は、以下の原則に基づいて設計されています：

1. **親しみやすさ**: 一般的なプログラミング言語で使用される演算子を採用し、学習障壁を低減します
2. **表現力**: 関数型プログラミングに適した演算子（パイプライン演算子`|>`など）を提供し、表現力を向上させます
3. **一貫性**: 演算子の優先順位と結合性は直感的で一貫したルールに従います

特に注目すべき演算子：
- `|>` (パイプライン演算子): 関数合成を左から右へと読みやすく表現します
- `|>*` (関数合成演算子): 複数の関数を合成し、新しい関数を作成します
- `>>>` (効果パイプライン演算子): 効果を持つ関数の合成を表現します
- `>>>*` (効果関数合成演算子): 効果を持つ複数の関数を合成します

## 2.4 リテラル

```
整数: 42, 0xFF, 0b1010, 1_000_000
浮動小数点: 3.14, 1e10, 1.2e-3
文字列: "hello", """複数行文字列"""
文字: 'a', '\n', '\u{1F600}'
ブール: true, false
単位: ()
```

Protorun言語のリテラルは、以下の原則に基づいて設計されています：

1. **読みやすさ**: 数値リテラルの桁区切り文字（`_`）や複数行文字列（`"""`）など、コードの読みやすさを向上させる機能を提供します
2. **表現力**: 16進数（`0xFF`）や2進数（`0b1010`）など、様々な表記法をサポートし、表現力を向上させます
3. **型安全性**: 各リテラルは明確な型を持ち、型システムと整合性があります

注意: Protorun言語では`null`リテラルは存在しません。これは、nullポインタ例外という「10億ドルの間違い」を防ぐための設計決定です。値の存在/不在はOption型で表現し、型システムによって安全に処理されます。

## 2.5 コメント

```
// 単一行コメント

/*
 * 複数行
 * コメント
 */

/// ドキュメントコメント（関数や型の直前に記述）
```

Protorun言語のコメントは、以下の原則に基づいて設計されています：

1. **親しみやすさ**: 一般的なプログラミング言語で使用されるコメント構文を採用し、学習障壁を低減します
2. **ドキュメント統合**: ドキュメントコメント（`///`）を使用することで、コードとドキュメントを密接に統合し、ドキュメントの鮮度を保ちます
3. **読みやすさ**: 複数行コメントにより、長い説明や一時的なコードの無効化を読みやすく表現できます

ドキュメントコメントは、言語のツールチェーンと統合されており、API文書の自動生成に使用されます。これにより、コードとドキュメントの一貫性が保たれ、開発者の生産性が向上します。
